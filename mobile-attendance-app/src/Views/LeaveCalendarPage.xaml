<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="MobileAttendanceApp.Views.LeaveCalendarPage"
             Title="Kalender Cuti">

    <StackLayout Padding="10">
        <!-- Judul Halaman -->
        <Label Text="Kalender Cuti" FontSize="24" HorizontalOptions="Center" />

        <!-- RefreshView untuk menyegarkan data -->
        <RefreshView Command="{Binding RefreshCommand}" IsRefreshing="{Binding IsRefreshing}">
            <CollectionView ItemsSource="{Binding LeaveRecords}">
                <!-- Placeholder untuk data kosong -->
                <CollectionView.EmptyView>
                    <StackLayout HorizontalOptions="Center" VerticalOptions="Center">
                        <Label Text="Tidak ada data cuti." FontSize="16" TextColor="Gray" />
                    </StackLayout>
                </CollectionView.EmptyView>

                <!-- Template item -->
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Grid Padding="10" ColumnDefinitions="*, *, *, *">
                            <Label Grid.Column="0" Text="{Binding StartDate, StringFormat='{0:dd MMM yyyy}'}" />
                            <Label Grid.Column="1" Text="{Binding EndDate, StringFormat='{0:dd MMM yyyy}'}" />
                            <Label Grid.Column="2" Text="{Binding Reason}" />
                            <Label Grid.Column="3" Text="{Binding IsApproved, Converter={StaticResource BoolToStatusConverter}}" 
                                   TextColor="{Binding IsApproved, Converter={StaticResource BoolToColorConverter}}" />
                        </Grid>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
        </RefreshView>
    </StackLayout>
</ContentPage>